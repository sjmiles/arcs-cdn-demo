<!doctype html>
<html lang="en">
<head>

  <title>Arcs: CDN Demo</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

  <link rel="stylesheet" href="index.css">

  <!-- Arcs engine -->
  <script src="//localhost/projects/arcs/arcs/runtime/browser/build/cdn/ArcsLib.js"></script>

  <!-- demo helper -->
  <script src="//localhost/projects/arcs/arcs-cdn/v0.02/utils.js"></script>

  <!-- custom elements -->
  <script src="//localhost/projects/arcs/arcs-cdn/v0.02/components/x-toast.js"></script>
  <script src="//localhost/projects/arcs/arcs-cdn/v0.02/components/suggestions-element.js"></script>

  <!-- app-specific configuration -->
  <script src="configure.js"></script>

  <!-- boilerplate -->
  <script src="demo.js"></script>

</head>
<body>

  <demo-frame>
    <div id="particle-container"></div>
    <suggestions-element></suggestions-element>
  </demo-frame>

  <script>
    // setup default URL map
    let root = `http://localhost/projects/arcs/arcs`;
    let urlMap = Arcs.utils.createUrlMap(root);
    // overrides
    let browser = `${root}/runtime/browser/`;
    Object.assign(urlMap, {
      'worker-entry-cdn.js': `${browser}/build/cdn/worker-entry-cdn.js`,
      'assets': `${browser}/assets`
    });
    // start application
    demo(urlMap, './local.manifest', window['particle-container']);
  </script>

</body>
</html>